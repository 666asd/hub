version: '2.3'
# Starting with the 2019.2.0 release: DO NOT EDIT THIS FILE!!!
# ADD ANY OF YOUR OVERRIDES IN THE docker-compose.local-overrides.yml FILE
# Refer to the Release Notes or Installation Guide for more information.

services:
  webserver:
    env_file: [hub-bdba.env]
  binaryscanner:
    image: sigsynopsys/appcheck-worker:2019.12
    links: [cfssl, rabbitmq, logstash, webserver]
    env_file: [hub-bdba.env]
    entrypoint: /docker-entrypoint.sh
    restart: always
    mem_limit: 2048M
  rabbitmq:
    image: blackducksoftware/rabbitmq:1.0.3
    depends_on: [cfssl]
    tmpfs: [/opt/blackduck/rabbitmq/security]
    volumes: ['rabbitmq-data-volume:/var/lib/rabbitmq']
    env_file: [hub-bdba.env]
    user: rabbitmq:root
    restart: always
    mem_limit: 1024M
volumes: {rabbitmq-data-volume: null}
